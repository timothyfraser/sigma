<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 System Reliability | System Reliability and Six Sigma in R</title>
  <meta name="description" content="Your online textbook for learning reliability and six sigma techniques in R! Made for Cornell University Course SYSEN 5300." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="1 System Reliability | System Reliability and Six Sigma in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Your online textbook for learning reliability and six sigma techniques in R! Made for Cornell University Course SYSEN 5300." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 System Reliability | System Reliability and Six Sigma in R" />
  
  <meta name="twitter:description" content="Your online textbook for learning reliability and six sigma techniques in R! Made for Cornell University Course SYSEN 5300." />
  

<meta name="author" content="Timothy Fraser, PhD" />


<meta name="date" content="2025-09-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="assets/kePrint-0.0.1/kePrint.js"></script>
<link href="assets/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="assets/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="assets/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="assets/d3-3.3.8/d3.min.js"></script>
<script src="assets/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="assets/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="assets/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="assets/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="assets/chromatography-0.1/chromatography.js"></script>
<script src="assets/DiagrammeR-binding-1.0.9/DiagrammeR.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="system-reliability.html"><a href="system-reliability.html"><i class="fa fa-check"></i><b>1</b> System Reliability</a>
<ul>
<li class="chapter" data-level="" data-path="system-reliability.html"><a href="system-reliability.html#getting-started"><i class="fa fa-check"></i>Getting Started</a>
<ul>
<li class="chapter" data-level="" data-path="system-reliability.html"><a href="system-reliability.html#packages"><i class="fa fa-check"></i>Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.1" data-path="system-reliability.html"><a href="system-reliability.html#concepts"><i class="fa fa-check"></i><b>1.1</b> Concepts</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="system-reliability.html"><a href="system-reliability.html#life-distributions"><i class="fa fa-check"></i><b>1.1.1</b> Life Distributions</a></li>
<li class="chapter" data-level="1.1.2" data-path="system-reliability.html"><a href="system-reliability.html#example-airplane-propeller-failure"><i class="fa fa-check"></i><b>1.1.2</b> Example: Airplane Propeller Failure!</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="system-reliability.html"><a href="system-reliability.html#learning-check-1"><i class="fa fa-check"></i>Learning Check 1</a></li>
<li class="chapter" data-level="1.2" data-path="system-reliability.html"><a href="system-reliability.html#joint-probabilities"><i class="fa fa-check"></i><b>1.2</b> Joint Probabilities</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="system-reliability.html"><a href="system-reliability.html#multiplication-rule"><i class="fa fa-check"></i><b>1.2.1</b> Multiplication Rule</a></li>
<li class="chapter" data-level="1.2.2" data-path="system-reliability.html"><a href="system-reliability.html#compliment-rule"><i class="fa fa-check"></i><b>1.2.2</b> Compliment Rule</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="system-reliability.html"><a href="system-reliability.html#table-of-failure-related-functions"><i class="fa fa-check"></i><b>1.3</b> Table of Failure-Related Functions</a></li>
<li class="chapter" data-level="1.4" data-path="system-reliability.html"><a href="system-reliability.html#hazard-rate-function"><i class="fa fa-check"></i><b>1.4</b> Hazard Rate Function</a></li>
<li class="chapter" data-level="1.5" data-path="system-reliability.html"><a href="system-reliability.html#accumulative-hazard-function"><i class="fa fa-check"></i><b>1.5</b> Accumulative Hazard Function</a></li>
<li class="chapter" data-level="1.6" data-path="system-reliability.html"><a href="system-reliability.html#average-failure-rate"><i class="fa fa-check"></i><b>1.6</b> Average Failure Rate</a></li>
<li class="chapter" data-level="1.7" data-path="system-reliability.html"><a href="system-reliability.html#units"><i class="fa fa-check"></i><b>1.7</b> Units</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="system-reliability.html"><a href="system-reliability.html#failure-functions"><i class="fa fa-check"></i><b>1.7.1</b> Failure Functions</a></li>
<li class="chapter" data-level="1.7.2" data-path="system-reliability.html"><a href="system-reliability.html#conversion-functions"><i class="fa fa-check"></i><b>1.7.2</b> Conversion Functions</a></li>
<li class="chapter" data-level="1.7.3" data-path="system-reliability.html"><a href="system-reliability.html#converting-estimates"><i class="fa fa-check"></i><b>1.7.3</b> Converting Estimates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="system-reliability.html"><a href="system-reliability.html#learning-check-2"><i class="fa fa-check"></i>Learning Check 2</a></li>
<li class="chapter" data-level="1.8" data-path="system-reliability.html"><a href="system-reliability.html#system-reliability-1"><i class="fa fa-check"></i><b>1.8</b> System Reliability</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="system-reliability.html"><a href="system-reliability.html#series-systems"><i class="fa fa-check"></i><b>1.8.1</b> Series Systems</a></li>
<li class="chapter" data-level="1.8.2" data-path="system-reliability.html"><a href="system-reliability.html#parallel-systems"><i class="fa fa-check"></i><b>1.8.2</b> Parallel Systems</a></li>
<li class="chapter" data-level="1.8.3" data-path="system-reliability.html"><a href="system-reliability.html#combined-systems"><i class="fa fa-check"></i><b>1.8.3</b> Combined Systems</a></li>
<li class="chapter" data-level="1.8.4" data-path="system-reliability.html"><a href="system-reliability.html#example-business-reliability"><i class="fa fa-check"></i><b>1.8.4</b> Example: Business Reliability</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="system-reliability.html"><a href="system-reliability.html#renewal-rates-via-bayes-rule"><i class="fa fa-check"></i><b>1.9</b> Renewal Rates via Bayes Rule</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">System Reliability and Six Sigma in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="system-reliability" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> System Reliability<a href="system-reliability.html#system-reliability" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this tutorial, we’re going to learn how to conduct Reliability
Analysis (also known as Survival Analysis) in <code>R</code>.</p>
<div class="figure">
<img src="04_workshop_files/figure-html/img_epic_fail-1.png" alt="Figure 1. Why We Do Reliability Analysis" width="100%" />
<p class="caption">
(#fig:img_epic_fail)Figure 1. Why We Do Reliability Analysis
</p>
</div>
<div id="getting-started" class="section level2 unnumbered hasAnchor">
<h2>Getting Started<a href="system-reliability.html#getting-started" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="packages" class="section level3 unnumbered hasAnchor">
<h3>Packages<a href="system-reliability.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="system-reliability.html#cb1-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="system-reliability.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-3"><a href="system-reliability.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span></code></pre></div>
</div>
</div>
<div id="concepts" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Concepts<a href="system-reliability.html#concepts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In Reliability/Survival Analysis, our quantity of interest is the amount of time it takes to reach a particular outcome (eg. time to failure, time to death, time to market saturation, etc.) Let’s learn how to approximate them in <code>R</code>!</p>
<p><br>
<br></p>
<div id="life-distributions" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Life Distributions<a href="system-reliability.html#life-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All technologies, operations, etc. have a ‘lifetime distribution’. If you took a sample of, say, cars in New York, you could measure <em>how long each car functioned properly</em> (its life-span), and build a <em>Lifetime Distribution</em> from that vector.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="system-reliability.html#cb2-1" tabindex="-1"></a><span class="co"># Let&#39;s imagine a normally distributed lifespan for these cars...</span></span>
<span id="cb2-2"><a href="system-reliability.html#cb2-2" tabindex="-1"></a>lifespan <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>The <em>lifetime distribution</em> is the probability density function telling
us how <em>frequently</em> each potential lifespan is expected to occur.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="system-reliability.html#cb3-1" tabindex="-1"></a><span class="co"># We can build ourself the PDF of our lifetime distribution here</span></span>
<span id="cb3-2"><a href="system-reliability.html#cb3-2" tabindex="-1"></a>dlife <span class="ot">&lt;-</span> lifespan <span class="sc">%&gt;%</span> <span class="fu">density</span>() <span class="sc">%&gt;%</span> <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> <span class="fu">approxfun</span>()</span></code></pre></div>
<p>In contrast, the Cumulative Distribution Function (CDF) for a lifetime
distribution tells us, for any time <span class="math inline">\(t\)</span>, the <em>probability that a car
will fail by time</em> <span class="math inline">\(t\)</span>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="system-reliability.html#cb4-1" tabindex="-1"></a><span class="co"># And we can build the CDF here</span></span>
<span id="cb4-2"><a href="system-reliability.html#cb4-2" tabindex="-1"></a>plife <span class="ot">&lt;-</span> lifespan <span class="sc">%&gt;%</span> <span class="fu">density</span>() <span class="sc">%&gt;%</span> <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="system-reliability.html#cb4-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">cumsum</span>(y) <span class="sc">/</span> <span class="fu">sum</span>(y)) <span class="sc">%&gt;%</span> <span class="fu">approxfun</span>()</span></code></pre></div>
<p>Having built these functions for our cars, we can generate the
probability (PDF) and cumulative probability (CDF) of failure across our
observed vector of car lifespans, from ~2.77
to ~7.4.</p>
<p>Reliability or Survival Analysis is concerned with <em>the probability</em>
that a unit (our car) will still be operating by a specific time <span class="math inline">\(t\)</span>,
representing the percentage of all cars that will survive to that point
in time. So let’s also calculate
<code>1 - cumulative probability of failure</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="system-reliability.html#cb5-1" tabindex="-1"></a>mycars <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb5-2"><a href="system-reliability.html#cb5-2" tabindex="-1"></a>  <span class="at">time =</span> <span class="fu">seq</span>(<span class="fu">min</span>(lifespan), <span class="fu">max</span>(lifespan), <span class="at">by =</span> <span class="fl">0.1</span>),</span>
<span id="cb5-3"><a href="system-reliability.html#cb5-3" tabindex="-1"></a>  <span class="co"># Get probability of failing at time time</span></span>
<span id="cb5-4"><a href="system-reliability.html#cb5-4" tabindex="-1"></a>  <span class="at">prob =</span> time <span class="sc">%&gt;%</span> <span class="fu">dlife</span>(),</span>
<span id="cb5-5"><a href="system-reliability.html#cb5-5" tabindex="-1"></a>  <span class="co"># Get probability of failing at or before time t</span></span>
<span id="cb5-6"><a href="system-reliability.html#cb5-6" tabindex="-1"></a>  <span class="at">prob_cumulative =</span> time <span class="sc">%&gt;%</span> <span class="fu">plife</span>(),</span>
<span id="cb5-7"><a href="system-reliability.html#cb5-7" tabindex="-1"></a>  <span class="co"># Get probability of surving past time t </span></span>
<span id="cb5-8"><a href="system-reliability.html#cb5-8" tabindex="-1"></a>  <span class="co"># (NOT failing at or before time t) </span></span>
<span id="cb5-9"><a href="system-reliability.html#cb5-9" tabindex="-1"></a>  <span class="at">prob_survival =</span> <span class="dv">1</span> <span class="sc">-</span> time <span class="sc">%&gt;%</span> <span class="fu">plife</span>())</span></code></pre></div>
<p>Let’s plot our three curves!</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="system-reliability.html#cb6-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-2"><a href="system-reliability.html#cb6-2" tabindex="-1"></a>  <span class="co"># Make one area plot for Cumulative Probability (CDF)</span></span>
<span id="cb6-3"><a href="system-reliability.html#cb6-3" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">data =</span> mycars, </span>
<span id="cb6-4"><a href="system-reliability.html#cb6-4" tabindex="-1"></a>            <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> prob_cumulative, </span>
<span id="cb6-5"><a href="system-reliability.html#cb6-5" tabindex="-1"></a>                          <span class="at">fill =</span> <span class="st">&quot;Cumulative Probability&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="system-reliability.html#cb6-6" tabindex="-1"></a>  <span class="co"># Make one area plot for Relibability</span></span>
<span id="cb6-7"><a href="system-reliability.html#cb6-7" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">data =</span> mycars, </span>
<span id="cb6-8"><a href="system-reliability.html#cb6-8" tabindex="-1"></a>            <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> prob_survival, </span>
<span id="cb6-9"><a href="system-reliability.html#cb6-9" tabindex="-1"></a>                          <span class="at">fill =</span> <span class="st">&quot;Reliability (Survival)&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="system-reliability.html#cb6-10" tabindex="-1"></a>  <span class="co"># Make one area plot for Probability (PDF)</span></span>
<span id="cb6-11"><a href="system-reliability.html#cb6-11" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">data =</span> mycars,</span>
<span id="cb6-12"><a href="system-reliability.html#cb6-12" tabindex="-1"></a>            <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> prob, </span>
<span id="cb6-13"><a href="system-reliability.html#cb6-13" tabindex="-1"></a>                          <span class="at">fill =</span> <span class="st">&quot;Probability&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb6-14"><a href="system-reliability.html#cb6-14" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb6-15"><a href="system-reliability.html#cb6-15" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-16"><a href="system-reliability.html#cb6-16" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Lifespan of Car&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Probability&quot;</span>,</span>
<span id="cb6-17"><a href="system-reliability.html#cb6-17" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Example Life Distributions&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="04_workshop_files/figure-html/unnamed-chunk-6-1.png" alt="Figure 2. Life Distributions of a Fleet of Cars" width="672" />
<p class="caption">
Figure 1.1: Figure 2. Life Distributions of a Fleet of Cars
</p>
</div>
<p>This new reliability function allows us to calculate 2 quantities of
interest:</p>
<ul>
<li><p>expected (average) number of cars that fail up to time <span class="math inline">\(t\)</span>.</p></li>
<li><p>total cars expected to still operate after time <span class="math inline">\(t\)</span>.</p></li>
</ul>
<p><br> <br></p>
</div>
<div id="example-airplane-propeller-failure" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Example: Airplane Propeller Failure!<a href="system-reliability.html#example-airplane-propeller-failure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose Lockheed Martin purchases 800 new airplane propellers. When
asked about the failure rate, the seller reports that every 1500 days, 2
of these propellers are expected to break. Using this, we can calculate
<span class="math inline">\(m\)</span>, the mean time to fail!</p>
<p><span class="math display">\[ \lambda \ t = t_{days} \times \frac{2 \ units}{1500 \ days}   \ \ \  and \ \ \ m = \frac{1500}{2} = 750 \ days \]</span>
This lets us generate the <em>failure rate</em> <span class="math inline">\(F(t)\)</span>, also known as the
Cumulative Distribution Function, and we can write it up like this.</p>
<p><span class="math display">\[ CDF(t) = F(t) = 1 - e^{-(2t/1500)} = 1 - e^{-t/750} \]</span> What’s pretty
cool is, we can tell R to make a matching function <code>fplane()</code>, using the
<code>function()</code> command.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="system-reliability.html#cb7-1" tabindex="-1"></a><span class="co"># For any value `t` we supply, do the following to that `t` value.</span></span>
<span id="cb7-2"><a href="system-reliability.html#cb7-2" tabindex="-1"></a>fplane <span class="ot">=</span> <span class="cf">function</span>(t){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>( <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>(t <span class="sc">/</span> <span class="dv">750</span>)) }</span></code></pre></div>
<p>Let’s use our function <code>fplane()</code> to answer our Lockheed engineers’
questions.</p>
<p><br></p>
<ol style="list-style-type: decimal">
<li>What’s the probability a propeller will fail by <code>t = 600</code> days? By
<code>t = 5000</code> days?</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="system-reliability.html#cb8-1" tabindex="-1"></a><span class="fu">fplane</span>(<span class="at">t =</span> <span class="fu">c</span>(<span class="dv">600</span>, <span class="dv">5000</span>))</span></code></pre></div>
<pre><code>## [1] 0.5506710 0.9987274</code></pre>
<p>Looks like 55% will fail by <code>600</code> days, and 99% fail by <code>5000</code> days.</p>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>What’s the probability a propeller will fail between <code>600</code> and
<code>5000</code> days?</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="system-reliability.html#cb10-1" tabindex="-1"></a><span class="fu">fplane</span>(<span class="at">t =</span> <span class="dv">5000</span>) <span class="sc">-</span> <span class="fu">fplane</span>(<span class="at">t =</span> <span class="dv">600</span>)</span></code></pre></div>
<pre><code>## [1] 0.4480563</code></pre>
<p>~45% more will fail between this period.</p>
<p><br></p>
<ol start="3" style="list-style-type: decimal">
<li>What percentage of new propellers will work more than <code>6000</code> days?</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="system-reliability.html#cb12-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">fplane</span>(<span class="at">t =</span> <span class="dv">6000</span>)</span></code></pre></div>
<pre><code>## [1] 0.0003354626</code></pre>
<p>0.03% will <em>survive</em> past 6000 days.</p>
<p><br></p>
<ol start="4" style="list-style-type: decimal">
<li>If Lockheed uses 300 propellers, how many will fail in 1 year? In 3
years?</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="system-reliability.html#cb14-1" tabindex="-1"></a><span class="co"># Given a sample of 300 propellers,</span></span>
<span id="cb14-2"><a href="system-reliability.html#cb14-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb14-3"><a href="system-reliability.html#cb14-3" tabindex="-1"></a><span class="co"># We project n * fplane(t = 362.25) will fail in 1 year (365.25 days)</span></span>
<span id="cb14-4"><a href="system-reliability.html#cb14-4" tabindex="-1"></a><span class="co"># that&#39;s ~115 propellers.</span></span>
<span id="cb14-5"><a href="system-reliability.html#cb14-5" tabindex="-1"></a>n<span class="sc">*</span><span class="fu">fplane</span>(<span class="at">t =</span> <span class="fl">365.25</span>)</span></code></pre></div>
<pre><code>## [1] 115.6599</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="system-reliability.html#cb16-1" tabindex="-1"></a><span class="co"># We also prject that n * fplane(t = 3 * 362.25) will fail in 3 years</span></span>
<span id="cb16-2"><a href="system-reliability.html#cb16-2" tabindex="-1"></a><span class="co"># that&#39;s ~230 propellers!</span></span>
<span id="cb16-3"><a href="system-reliability.html#cb16-3" tabindex="-1"></a>n<span class="sc">*</span><span class="fu">fplane</span>(<span class="at">t =</span> <span class="dv">3</span><span class="sc">*</span><span class="fl">365.25</span>)</span></code></pre></div>
<pre><code>## [1] 230.3988</code></pre>
<p>Pretty powerful!</p>
<p><br>
<br>
<br></p>
<hr />
</div>
</div>
<div id="learning-check-1" class="section level2 unnumbered LC hasAnchor">
<h2>Learning Check 1<a href="system-reliability.html#learning-check-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Question</strong></p>
<div class="figure">
<img src="https://i.pcmag.com/imagery/articles/03PEOnUZJcx7DfkAg6r21C8-1..v1630090989.jpg" alt="Figure 3. Exploding Phones! (True Story)"  />
<p class="caption">
(#fig:img_phone)Figure 3. Exploding Phones! (True Story)
</p>
</div>
<p>Hypothetical: Samsung is releasing a new Galaxy phone. But after the <a href="https://www.businessinsider.com/samsung-infographic-explains-why-galaxy-note-7-phones-exploded-2017-1">2016 debacle of exploding phones</a>, they want to estimate how likely it is a phone will explode (versus stay intact). Their pre-sale trials suggest that every 500 days, 5 phones are expected to explode. What percentage of phones are expected to work after more than 6 months? 1 year?</p>
<details>
<summary>
<strong>[View Answer!]</strong>
</summary>
<p>Using the information above, we can calculate the mean time to fail <code>m</code>,
the rate of how many days it takes for an average unit to fail.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="system-reliability.html#cb18-1" tabindex="-1"></a>days <span class="ot">&lt;-</span> <span class="dv">500</span></span>
<span id="cb18-2"><a href="system-reliability.html#cb18-2" tabindex="-1"></a>units <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-3"><a href="system-reliability.html#cb18-3" tabindex="-1"></a>m <span class="ot">&lt;-</span> days <span class="sc">/</span> units</span>
<span id="cb18-4"><a href="system-reliability.html#cb18-4" tabindex="-1"></a><span class="co"># Check it!</span></span>
<span id="cb18-5"><a href="system-reliability.html#cb18-5" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>We can use <code>m</code> to make our explosion function <code>fexplode()</code>, which in
this case, is our (catastrophic) failure function <span class="math inline">\(f(t)\)</span>!</p>
<p><span class="math display">\[ CDF(days) = Explode(days) = 1 - e^{-(days \times \frac{1 \ unit}{100 \ days})} = 1 - e^{-0.01 \times days} \]</span></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="system-reliability.html#cb20-1" tabindex="-1"></a>fexplode <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>days<span class="sc">*</span><span class="fl">0.01</span>) }</span></code></pre></div>
<p>Then, we can calculate <span class="math inline">\(r(t)\)</span>, the cumulative probability that a phone
will <em>not</em> explode after <span class="math inline">\(t\)</span> days.</p>
<p>Let’s answer our questions!</p>
<p>What percentage of phone are expected to survive 6 months?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="system-reliability.html#cb21-1" tabindex="-1"></a><span class="co"># What percent</span></span>
<span id="cb21-2"><a href="system-reliability.html#cb21-2" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">fexplode</span>(<span class="fl">365.25</span> <span class="sc">/</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.1610162</code></pre>
<p>What percentage of phone are expected to survive 1 year?</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="system-reliability.html#cb23-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">fexplode</span>(<span class="fl">365.25</span>)</span></code></pre></div>
<pre><code>## [1] 0.02592623</code></pre>
</details>
<hr />
<p><br>
<br></p>
</div>
<div id="joint-probabilities" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Joint Probabilities<a href="system-reliability.html#joint-probabilities" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Two extra rules of probability can help us understand system
reliability.</p>
<div id="multiplication-rule" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Multiplication Rule<a href="system-reliability.html#multiplication-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>probability that <span class="math inline">\(n\)</span> units with a reliability function <span class="math inline">\(R(t)\)</span> survive past time <span class="math inline">\(t\)</span> is <em>multiplied</em>, because of conditional probability, to equal <span class="math inline">\(R(t)^{n}\)</span>..</li>
</ul>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-16"></span>
<img src="https://c.tenor.com/yQvFNww1nqMAAAAd/letting-go-tea.gif" alt="Figure 4. Oops." width="100%" />
<p class="caption">
Figure 1.2: Figure 4. Oops.
</p>
</div>
<p>For example, there’s a 50% chance that 1 coffee cup breaks at local coffeeshop <em>Coffee Please!</em> every 6 months (180 days). Thus, the mean number of days to cup failure is <span class="math inline">\(m = \frac{180 \ days}{ 1 \ cup \times 0.50 \ chance} = 360 \ days\)</span>,
while the relative frequency (probability) that a cup will break is $ = $.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="system-reliability.html#cb25-1" tabindex="-1"></a>fcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>( <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>(days<span class="sc">/</span><span class="dv">360</span>))}</span>
<span id="cb25-2"><a href="system-reliability.html#cb25-2" tabindex="-1"></a><span class="co"># So the probability that 1 breaks within 100 days is XX percent</span></span>
<span id="cb25-3"><a href="system-reliability.html#cb25-3" tabindex="-1"></a><span class="fu">fcup</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 0.2425349</code></pre>
<p>And let’s write out a reliability function too, based on our function
for the failure function.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="system-reliability.html#cb27-1" tabindex="-1"></a><span class="co"># Notice how we can reference an earlier function fcup in our later function? Always have to define functions in order.</span></span>
<span id="cb27-2"><a href="system-reliability.html#cb27-2" tabindex="-1"></a>rcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">fcup</span>(days) }</span>
<span id="cb27-3"><a href="system-reliability.html#cb27-3" tabindex="-1"></a><span class="co"># So the probability that 1 *doesn&#39;t* break within 100 days is XX perecent</span></span>
<span id="cb27-4"><a href="system-reliability.html#cb27-4" tabindex="-1"></a><span class="fu">rcup</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 0.7574651</code></pre>
<p>But the probability that <em>two</em> break within 100 days is…</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="system-reliability.html#cb29-1" tabindex="-1"></a><span class="fu">fcup</span>(<span class="dv">100</span>) <span class="sc">*</span> <span class="fu">fcup</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 0.05882316</code></pre>
<p>And the probability that 5 break within 100 days is… very small!</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="system-reliability.html#cb31-1" tabindex="-1"></a><span class="fu">fcup</span>(<span class="dv">100</span>)<span class="sc">^</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 0.0008392106</code></pre>
</div>
<div id="compliment-rule" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Compliment Rule<a href="system-reliability.html#compliment-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The probability that at least 1 of <span class="math inline">\(n\)</span> units fails by time <span class="math inline">\(t\)</span> is
<span class="math inline">\(1 - R(t)^{n}\)</span>.</li>
</ul>
<p>So, if <em>Coffee Please!</em> buys 2 new cups for their store, the probability
that at least 1 unit breaks within a year is…</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="system-reliability.html#cb33-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">rcup</span>(<span class="at">days =</span> <span class="fl">365.25</span>)<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.868555</code></pre>
<p>While if they buy 5 new cups for their store, the chance at least 1 cup
breaks within a year is…</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="system-reliability.html#cb35-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">rcup</span>(<span class="at">days =</span> <span class="fl">365.25</span>)<span class="sc">^</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 0.9937359</code></pre>
</div>
</div>
<div id="table-of-failure-related-functions" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Table of Failure-Related Functions<a href="system-reliability.html#table-of-failure-related-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
(#tab:tab_functions)(#tab:tab_functions)Table 1. Failure and Reliability Functions
</caption>
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Formula
</th>
<th style="text-align:left;">
Equivalency
</th>
<th style="text-align:left;">
Meaning
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(220, 38, 127, 255) !important;">
<span class="math inline">\(F(t)\)</span>
</td>
<td style="text-align:left;">
Failure Function
</td>
<td style="text-align:left;">
<span class="math inline">\(1 - e^{-\lambda t}\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(1 - e^{-H(t)}\)</span>
</td>
<td style="text-align:left;">
Cumulative Distribution Function (CDF) of Lifespans
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(100, 143, 255, 255) !important;">
<span class="math inline">\(R(t)\)</span>
</td>
<td style="text-align:left;">
Reliability Distribution
</td>
<td style="text-align:left;">
<span class="math inline">\(e^{-\lambda t}\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(e^{-H(t)}\)</span>
</td>
<td style="text-align:left;">
Remainder of CDF for Lifespans
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(120, 94, 240, 255) !important;">
<span class="math inline">\(f(t)\)</span>
</td>
<td style="text-align:left;">
Change in Failure Function
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{F(t + \Delta t) - F(t)}{\Delta t}\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(-R&#39;(t)\)</span>
</td>
<td style="text-align:left;">
Change in CDF at time <span class="math inline">\(t_{2}\)</span> <span class="math inline">\(-\)</span> at <span class="math inline">\(t_{1}\)</span>, per extra timestep
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(234, 90, 0, 255) !important;">
<span class="math inline">\(z(t)\)</span>
</td>
<td style="text-align:left;">
Failure Rate (Hazard Rate)
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{f(t)}{R(t)}\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\lambda = \frac{1}{m}\)</span>
</td>
<td style="text-align:left;">
Mean Failure Rate <span class="math inline">\(\lambda\)</span>; Inverse of Mean Time to Fail <span class="math inline">\(m\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(201, 151, 40, 255) !important;">
<span class="math inline">\(H(t)\)</span>
</td>
<td style="text-align:left;">
Accumulative Hazard Rate
</td>
<td style="text-align:left;">
<span class="math inline">\(-log( R(t) )\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\lambda t\)</span>
</td>
<td style="text-align:left;">
Total Risk of Failure gained from time 0 to <span class="math inline">\(t\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: rgba(224, 113, 43, 255) !important;">
<span class="math inline">\(AFR(t_1,t_2)\)</span>
</td>
<td style="text-align:left;">
Average Failure Rate
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{H(t_{2}) - H(t_{1})}{t_{2} - t_{1}}\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{log(R(t_{1})) -log(R(t_{2})}{t_{2} - t_{1}}\)</span>
</td>
<td style="text-align:left;">
Average failures per timestep between times <span class="math inline">\(t_{1}\)</span> and <span class="math inline">\(t_{2}\)</span>
</td>
</tr>
</tbody>
</table>
</div>
<div id="hazard-rate-function" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Hazard Rate Function<a href="system-reliability.html#hazard-rate-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>But if a unit has survived up until now, shouldn’t its odds of failing
change? We can express this as:</p>
<p><span class="math display">\[ P(Fail \ Tomorrow | Survive \ until \ Today) = \frac{ F(days + \Delta days) - F(days) }{ \Delta days \times R(days)} = \frac{ F(days + 1 ) - F(days) }{ 1 \times R(days)} \]</span>
Local coffeeshop <em>Coffee Please!</em> also has a lucky mug, which has stayed
intact for 5 years, despite being dropped numerous times by patrons.
<em>Coffee Please!</em>’s failure rate suggests they had a 99.3% chance of it
breaking to date.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="system-reliability.html#cb37-1" tabindex="-1"></a><span class="co"># we call this the Hazard Rate Z</span></span>
<span id="cb37-2"><a href="system-reliability.html#cb37-2" tabindex="-1"></a>zcup <span class="ot">=</span> <span class="cf">function</span>(days, <span class="at">plus =</span> <span class="dv">1</span>){ </span>
<span id="cb37-3"><a href="system-reliability.html#cb37-3" tabindex="-1"></a>  ( <span class="fu">fcup</span>(days <span class="sc">+</span> plus) <span class="sc">-</span> <span class="fu">fcup</span>(days)  )  <span class="sc">/</span> (plus <span class="sc">*</span> <span class="fu">rcup</span>(days) )</span>
<span id="cb37-4"><a href="system-reliability.html#cb37-4" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="accumulative-hazard-function" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Accumulative Hazard Function<a href="system-reliability.html#accumulative-hazard-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><span class="math inline">\(H(t)\)</span>: total accumulated risk of experiencing the event of interest
that has been gained by progressing from 0 to time <span class="math inline">\(t\)</span>.</p></li>
<li><p>the (instantaneous) hazard rate <span class="math inline">\(h(t)\)</span> can grow or shrink over time,
but the cumulative hazard rate only increases or stays constant.</p></li>
</ul>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="system-reliability.html#cb38-1" tabindex="-1"></a>hcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>( <span class="fu">rcup</span>(days) ) }</span>
<span id="cb38-2"><a href="system-reliability.html#cb38-2" tabindex="-1"></a><span class="co"># This captures the accumulative probability of a hazard (failure) occurring given the number of days past.</span></span>
<span id="cb38-3"><a href="system-reliability.html#cb38-3" tabindex="-1"></a><span class="fu">hcup</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 0.2777778</code></pre>
</div>
<div id="average-failure-rate" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Average Failure Rate<a href="system-reliability.html#average-failure-rate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The hazard rate <span class="math inline">\(z(t)\)</span> varies over time, so let’s generate a single
statistic to summarize the distribution of hazard rates that <span class="math inline">\(z(t)\)</span> can
provide us between times <span class="math inline">\(t_{a} \to t_{z}\)</span>. We’ll call this the Average
Failure Rate <span class="math inline">\(AFR(T)\)</span>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="system-reliability.html#cb40-1" tabindex="-1"></a>afrcup <span class="ot">=</span> <span class="cf">function</span>(t1,t2){ (<span class="fu">hcup</span>(t2) <span class="sc">-</span> <span class="fu">hcup</span>(t1) ) <span class="sc">/</span> (t2 <span class="sc">-</span> t1)}</span>
<span id="cb40-2"><a href="system-reliability.html#cb40-2" tabindex="-1"></a><span class="fu">afrcup</span>(<span class="dv">0</span>, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.002777778</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="system-reliability.html#cb42-1" tabindex="-1"></a><span class="co"># Or write it as....</span></span>
<span id="cb42-2"><a href="system-reliability.html#cb42-2" tabindex="-1"></a>afrcup <span class="ot">=</span> <span class="cf">function</span>(t1,t2){ (<span class="fu">log</span>(<span class="fu">rcup</span>(t1)) <span class="sc">-</span> <span class="fu">log</span>(<span class="fu">rcup</span>(t2)) ) <span class="sc">/</span> (t2 <span class="sc">-</span> t1)}</span>
<span id="cb42-3"><a href="system-reliability.html#cb42-3" tabindex="-1"></a><span class="fu">afrcup</span>(<span class="dv">0</span>, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.002777778</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="system-reliability.html#cb44-1" tabindex="-1"></a><span class="co"># And if we&#39;re going from 0 to time t,</span></span>
<span id="cb44-2"><a href="system-reliability.html#cb44-2" tabindex="-1"></a><span class="co"># it simplifies to...</span></span>
<span id="cb44-3"><a href="system-reliability.html#cb44-3" tabindex="-1"></a>afrcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="fu">hcup</span>(days) <span class="sc">/</span> days }</span>
<span id="cb44-4"><a href="system-reliability.html#cb44-4" tabindex="-1"></a><span class="fu">afrcup</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.002777778</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="system-reliability.html#cb46-1" tabindex="-1"></a><span class="co"># or to this</span></span>
<span id="cb46-2"><a href="system-reliability.html#cb46-2" tabindex="-1"></a>afrcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="fu">rcup</span>(days)) <span class="sc">/</span> days }</span>
<span id="cb46-3"><a href="system-reliability.html#cb46-3" tabindex="-1"></a><span class="fu">afrcup</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.002777778</code></pre>
<p>When the probability for a time <span class="math inline">\(t\)</span> is less than <code>0.10</code>,
<span class="math inline">\(AFR = F(t) / T\)</span>. This means that
<span class="math inline">\(F(t) = 1 - e^{-T \times AFR(T)} \approx T \times AFR(T) \ \ when \  F(T) &lt; 0.10\)</span>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="system-reliability.html#cb48-1" tabindex="-1"></a>afrcup <span class="ot">=</span> <span class="cf">function</span>(days){ <span class="fu">fcup</span>(days) <span class="sc">/</span> days }</span>
<span id="cb48-2"><a href="system-reliability.html#cb48-2" tabindex="-1"></a><span class="fu">afrcup</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.002758577</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="system-reliability.html#cb50-1" tabindex="-1"></a><span class="co"># and this is approximately....</span></span></code></pre></div>
</div>
<div id="units" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> Units<a href="system-reliability.html#units" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Units can be tough with failure rates, because they get tiny really
quickly. Here are some common units:</p>
<ul>
<li><p><em>Percent per thousand hours</em>, where <span class="math inline">\(\% / K = 10^5 \times z(t)\)</span></p></li>
<li><p><em>Failure in Time (FIT) per thousand hours</em>, also known as <em>Parts per
Million per Thousand Hours</em>, written <span class="math inline">\(PPM/K = 10^9 \times z(t)\)</span>.
This equals <span class="math inline">\(10^4 \times Failure \ Rate \ in \ \% / K\)</span>.</p></li>
</ul>
<p>For this lifetime function <span class="math inline">\(F(t) = 1 - e^{-(t/2000)^{0.5}}\)</span>, what’s the
failure rate at <code>t = 10</code>, <code>t = 1000</code>, and <code>t = 10,000</code> hours? Convert
them into <span class="math inline">\(\%/K\)</span> and <span class="math inline">\(PPM/K\)</span>.</p>
<div id="failure-functions" class="section level3 hasAnchor" number="1.7.1">
<h3><span class="header-section-number">1.7.1</span> Failure Functions<a href="system-reliability.html#failure-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, let’s write the failure function <code>f(t)</code>.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="system-reliability.html#cb51-1" tabindex="-1"></a><span class="co"># Write failure rate</span></span>
<span id="cb51-2"><a href="system-reliability.html#cb51-2" tabindex="-1"></a>f <span class="ot">=</span> <span class="cf">function</span>(t){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(<span class="sc">-</span>(t<span class="sc">/</span><span class="dv">2000</span>)<span class="sc">^</span><span class="fl">0.5</span>) }</span></code></pre></div>
<p>Second, let’s write the hazard rate <code>z(t)</code>, for a 1 unit change in <code>t</code>.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="system-reliability.html#cb52-1" tabindex="-1"></a><span class="co"># Write hazard rate</span></span>
<span id="cb52-2"><a href="system-reliability.html#cb52-2" tabindex="-1"></a>z <span class="ot">=</span> <span class="cf">function</span>(t, <span class="at">change =</span> <span class="dv">1</span>){ </span>
<span id="cb52-3"><a href="system-reliability.html#cb52-3" tabindex="-1"></a>  <span class="co"># Often I like to break up my functions into multiple lines;</span></span>
<span id="cb52-4"><a href="system-reliability.html#cb52-4" tabindex="-1"></a>  <span class="co"># it makes it much clearer to me.</span></span>
<span id="cb52-5"><a href="system-reliability.html#cb52-5" tabindex="-1"></a>  <span class="co"># To help, we can make &#39;temporary&#39; objects; </span></span>
<span id="cb52-6"><a href="system-reliability.html#cb52-6" tabindex="-1"></a>  <span class="co"># they only exist within the function.</span></span>
<span id="cb52-7"><a href="system-reliability.html#cb52-7" tabindex="-1"></a>  </span>
<span id="cb52-8"><a href="system-reliability.html#cb52-8" tabindex="-1"></a>  <span class="co"># Get change in failure function</span></span>
<span id="cb52-9"><a href="system-reliability.html#cb52-9" tabindex="-1"></a>  deltaf <span class="ot">&lt;-</span> (<span class="fu">f</span>(t<span class="sc">+</span>change) <span class="sc">-</span> <span class="fu">f</span>(t) ) <span class="sc">/</span> change</span>
<span id="cb52-10"><a href="system-reliability.html#cb52-10" tabindex="-1"></a>  <span class="co"># Get reliability function</span></span>
<span id="cb52-11"><a href="system-reliability.html#cb52-11" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">f</span>(t)</span>
<span id="cb52-12"><a href="system-reliability.html#cb52-12" tabindex="-1"></a>  <span class="co"># Get hazard rate</span></span>
<span id="cb52-13"><a href="system-reliability.html#cb52-13" tabindex="-1"></a>  deltaf <span class="sc">/</span> r</span>
<span id="cb52-14"><a href="system-reliability.html#cb52-14" tabindex="-1"></a>}</span></code></pre></div>
<p>Third, let’s write the average hazard rate <code>afr(t1,t2)</code>.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="system-reliability.html#cb53-1" tabindex="-1"></a>afr <span class="ot">=</span> <span class="cf">function</span>(t1,t2){</span>
<span id="cb53-2"><a href="system-reliability.html#cb53-2" tabindex="-1"></a>  </span>
<span id="cb53-3"><a href="system-reliability.html#cb53-3" tabindex="-1"></a>  <span class="co"># Let&#39;s get the survival rate r(t)</span></span>
<span id="cb53-4"><a href="system-reliability.html#cb53-4" tabindex="-1"></a>  r1 <span class="ot">=</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">f</span>(t1)</span>
<span id="cb53-5"><a href="system-reliability.html#cb53-5" tabindex="-1"></a>  r2 <span class="ot">=</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">f</span>(t2)</span>
<span id="cb53-6"><a href="system-reliability.html#cb53-6" tabindex="-1"></a>  </span>
<span id="cb53-7"><a href="system-reliability.html#cb53-7" tabindex="-1"></a>  <span class="co"># Let&#39;s get the accumulative hazard rate h(t)</span></span>
<span id="cb53-8"><a href="system-reliability.html#cb53-8" tabindex="-1"></a>  h1 <span class="ot">=</span> <span class="sc">-</span><span class="fu">log</span>(r1)</span>
<span id="cb53-9"><a href="system-reliability.html#cb53-9" tabindex="-1"></a>  h2 <span class="ot">=</span> <span class="sc">-</span><span class="fu">log</span>(r2)</span>
<span id="cb53-10"><a href="system-reliability.html#cb53-10" tabindex="-1"></a>  </span>
<span id="cb53-11"><a href="system-reliability.html#cb53-11" tabindex="-1"></a>  <span class="co"># And let&#39;s calculate the averge failure rate!</span></span>
<span id="cb53-12"><a href="system-reliability.html#cb53-12" tabindex="-1"></a>  afr <span class="ot">=</span> (h2 <span class="sc">-</span> h1) <span class="sc">/</span> (t2 <span class="sc">-</span> t1)</span>
<span id="cb53-13"><a href="system-reliability.html#cb53-13" tabindex="-1"></a>  </span>
<span id="cb53-14"><a href="system-reliability.html#cb53-14" tabindex="-1"></a>  <span class="co"># And return it!</span></span>
<span id="cb53-15"><a href="system-reliability.html#cb53-15" tabindex="-1"></a>  afr</span>
<span id="cb53-16"><a href="system-reliability.html#cb53-16" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="conversion-functions" class="section level3 hasAnchor" number="1.7.2">
<h3><span class="header-section-number">1.7.2</span> Conversion Functions<a href="system-reliability.html#conversion-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Fourth, let’s write some functions to convert our results into %/K and
PPM/K, so we can be lazy! We’ll call our functions <code>pk()</code> and <code>ppmk()</code>.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="system-reliability.html#cb54-1" tabindex="-1"></a><span class="co"># % per 1000 hours</span></span>
<span id="cb54-2"><a href="system-reliability.html#cb54-2" tabindex="-1"></a>pk <span class="ot">=</span> <span class="cf">function</span>(rate){ rate <span class="sc">*</span> <span class="dv">100</span> <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">3</span> }</span>
<span id="cb54-3"><a href="system-reliability.html#cb54-3" tabindex="-1"></a></span>
<span id="cb54-4"><a href="system-reliability.html#cb54-4" tabindex="-1"></a><span class="co"># PPM/1000 hours</span></span>
<span id="cb54-5"><a href="system-reliability.html#cb54-5" tabindex="-1"></a>ppmk <span class="ot">=</span> <span class="cf">function</span>(rate){ rate <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">9</span> }</span></code></pre></div>
</div>
<div id="converting-estimates" class="section level3 hasAnchor" number="1.7.3">
<h3><span class="header-section-number">1.7.3</span> Converting Estimates<a href="system-reliability.html#converting-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s compare our hazard rates when <code>t = 10</code>, per hour, in % per 1000
hours, and in PPM per 1000 hours.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="system-reliability.html#cb55-1" tabindex="-1"></a><span class="co"># Per hour... Ew. Not very readable.</span></span>
<span id="cb55-2"><a href="system-reliability.html#cb55-2" tabindex="-1"></a><span class="fu">z</span>(<span class="at">t =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 0.003445358</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="system-reliability.html#cb57-1" tabindex="-1"></a><span class="co"># % per 1000 hours.... Wheee! Much more legible</span></span>
<span id="cb57-2"><a href="system-reliability.html#cb57-2" tabindex="-1"></a><span class="fu">z</span>(<span class="at">t =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">pk</span>()</span></code></pre></div>
<pre><code>## [1] 344.5358</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="system-reliability.html#cb59-1" tabindex="-1"></a><span class="co"># PPM per 1000 hours.... Who! Big numbers!</span></span>
<span id="cb59-2"><a href="system-reliability.html#cb59-2" tabindex="-1"></a><span class="fu">z</span>(<span class="at">t =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">ppmk</span>()</span></code></pre></div>
<pre><code>## [1] 3445358</code></pre>
<p>Finally, let’s calculate the Average Failure Rate between 1000 and 10000
hours, in %/K.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="system-reliability.html#cb61-1" tabindex="-1"></a><span class="co"># Tada! Average Failure Rate from 1000 to 10000 hours, in % of units per 1000 hours</span></span>
<span id="cb61-2"><a href="system-reliability.html#cb61-2" tabindex="-1"></a><span class="fu">afr</span>(<span class="dv">1000</span>, <span class="dv">10000</span>) <span class="sc">%&gt;%</span> <span class="fu">pk</span>()</span></code></pre></div>
<pre><code>## [1] 16.98846</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="system-reliability.html#cb63-1" tabindex="-1"></a><span class="co"># And in ppmk!</span></span>
<span id="cb63-2"><a href="system-reliability.html#cb63-2" tabindex="-1"></a><span class="fu">afr</span>(<span class="dv">1000</span>, <span class="dv">10000</span>) <span class="sc">%&gt;%</span> <span class="fu">ppmk</span>()</span></code></pre></div>
<pre><code>## [1] 169884.6</code></pre>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="learning-check-2" class="section level2 unnumbered LC hasAnchor">
<h2>Learning Check 2<a href="system-reliability.html#learning-check-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Question</strong></p>
<div class="figure">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Mama_instant_noodle_block.jpg/800px-Mama_instant_noodle_block.jpg" alt="Figure 5. Does Instant Ramen *ever* go bad?" width="100%" />
<p class="caption">
(#fig:img_ramen)Figure 5. Does Instant Ramen <em>ever</em> go bad?
</p>
</div>
<p>A food safety inspector is investigating the average shelf life of
instant ramen noodles. A company estimates the average shelf life of a
package of ramen noodles at ~240 days per package. In a moment of poor
judgement, she hires a team of hungry college students to taste-test old
packages of that company’s ramen noodles, randomly sampled from a
warehouse. When a student comes down with food poisoning, she records
that product as having gone bad after XX days. She treats the record of
ramen food poisonings as a sample of the lifespan of ramen products.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="system-reliability.html#cb65-1" tabindex="-1"></a>ramen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">163</span>, <span class="dv">309</span>, <span class="dv">215</span>, <span class="dv">211</span>, <span class="dv">246</span>, <span class="dv">198</span>, <span class="dv">281</span>, <span class="dv">180</span>, <span class="dv">317</span>, <span class="dv">291</span>, </span>
<span id="cb65-2"><a href="system-reliability.html#cb65-2" tabindex="-1"></a>           <span class="dv">238</span>, <span class="dv">281</span>, <span class="dv">215</span>, <span class="dv">208</span>, <span class="dv">212</span>, <span class="dv">300</span>, <span class="dv">231</span>, <span class="dv">240</span>, <span class="dv">285</span>, <span class="dv">232</span>, </span>
<span id="cb65-3"><a href="system-reliability.html#cb65-3" tabindex="-1"></a>           <span class="dv">252</span>, <span class="dv">261</span>, <span class="dv">310</span>, <span class="dv">226</span>, <span class="dv">282</span>, <span class="dv">140</span>, <span class="dv">208</span>, <span class="dv">280</span>, <span class="dv">237</span>, <span class="dv">270</span>, </span>
<span id="cb65-4"><a href="system-reliability.html#cb65-4" tabindex="-1"></a>           <span class="dv">185</span>, <span class="dv">409</span>, <span class="dv">293</span>, <span class="dv">164</span>, <span class="dv">231</span>, <span class="dv">237</span>, <span class="dv">269</span>, <span class="dv">233</span>, <span class="dv">246</span>, <span class="dv">287</span>, </span>
<span id="cb65-5"><a href="system-reliability.html#cb65-5" tabindex="-1"></a>           <span class="dv">187</span>, <span class="dv">232</span>, <span class="dv">180</span>, <span class="dv">227</span>, <span class="dv">215</span>, <span class="dv">260</span>, <span class="dv">236</span>, <span class="dv">229</span>, <span class="dv">263</span>, <span class="dv">220</span>)</span></code></pre></div>
<p>Using this data, please calculate…</p>
<ol style="list-style-type: decimal">
<li><p>What’s the cumulative probability of a pack of ramen going bad
within 8 months (240 days)? Are the company’s predictions accurate?</p></li>
<li><p>What’s the average failure rate (<span class="math inline">\(\lambda\)</span>) for the period between 8
months (240 days) to 1 year?</p></li>
<li><p>What’s the mean time to fail (<span class="math inline">\(m\)</span>) for the period between 8 months
to 1 year?</p></li>
</ol>
<p><br></p>
<details>
<summary>
<strong>[View Answer!]</strong>
</summary>
<p>First, we take her ramen lifespan data, estimate the PDF with
<code>density()</code>, and make the failure function (CDF), which I’ve called
<code>framen()</code> below.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="system-reliability.html#cb66-1" tabindex="-1"></a><span class="co"># Get failure function f(t) = CDF of ramen failure</span></span>
<span id="cb66-2"><a href="system-reliability.html#cb66-2" tabindex="-1"></a>framen <span class="ot">&lt;-</span> ramen <span class="sc">%&gt;%</span> <span class="fu">density</span>() <span class="sc">%&gt;%</span> <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="system-reliability.html#cb66-3" tabindex="-1"></a>  <span class="co"># Now compute CDF</span></span>
<span id="cb66-4"><a href="system-reliability.html#cb66-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">cumsum</span>(y) <span class="sc">/</span> <span class="fu">sum</span>(y)) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href="system-reliability.html#cb66-5" tabindex="-1"></a>  <span class="fu">approxfun</span>()</span></code></pre></div>
<p>Second, we calculate the reliability function <code>rramen()</code>.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="system-reliability.html#cb67-1" tabindex="-1"></a><span class="co"># Get survival function r(t) = 1 - f(t)</span></span>
<span id="cb67-2"><a href="system-reliability.html#cb67-2" tabindex="-1"></a>rramen <span class="ot">&lt;-</span> <span class="cf">function</span>(days){ <span class="dv">1</span> <span class="sc">-</span> <span class="fu">framen</span>(days) }</span></code></pre></div>
<p>Third, we can shortcut to the average failure rate, called <code>afrramen()</code>
below, by using the reliability function <code>rramen()</code> to make our hazard
rates at time 1 (<code>h1</code>) and time 2 (<code>h2</code>).</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="system-reliability.html#cb68-1" tabindex="-1"></a><span class="co"># Get average failure rate from time 1 to time 2</span></span>
<span id="cb68-2"><a href="system-reliability.html#cb68-2" tabindex="-1"></a>afrramen <span class="ot">&lt;-</span> <span class="cf">function</span>(days1, days2){</span>
<span id="cb68-3"><a href="system-reliability.html#cb68-3" tabindex="-1"></a>  h1 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="fu">rramen</span>(days1))</span>
<span id="cb68-4"><a href="system-reliability.html#cb68-4" tabindex="-1"></a>  h2 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="fu">rramen</span>(days2))</span>
<span id="cb68-5"><a href="system-reliability.html#cb68-5" tabindex="-1"></a>  (h2 <span class="sc">-</span> h1) <span class="sc">/</span> (days2 <span class="sc">-</span> days1)</span>
<span id="cb68-6"><a href="system-reliability.html#cb68-6" tabindex="-1"></a>}</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>What’s the cumulative probability of a pack of ramen going bad
within 8 months (240 days)? Are the company’s predictions accurate?</li>
</ol>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="system-reliability.html#cb69-1" tabindex="-1"></a><span class="fu">framen</span>(<span class="dv">240</span>)</span></code></pre></div>
<pre><code>## [1] 0.508274</code></pre>
<p>Yes! ~50% of packages will go bad within 8 months. Pretty accurate!</p>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>What’s the average failure rate (<span class="math inline">\(\lambda\)</span>) for the period between 8
months (240 days) to 1 year?</li>
</ol>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="system-reliability.html#cb71-1" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="fu">afrramen</span>(<span class="dv">240</span>, <span class="dv">365</span>)</span>
<span id="cb71-2"><a href="system-reliability.html#cb71-2" tabindex="-1"></a><span class="co"># Check it!</span></span>
<span id="cb71-3"><a href="system-reliability.html#cb71-3" tabindex="-1"></a>lambda</span></code></pre></div>
<pre><code>## [1] 0.02563947</code></pre>
<p>On average, between 8 months to 1 year, ramen packages go bad at a rate
of ~<code>0.026</code> units per day.</p>
<p><br></p>
<ol start="3" style="list-style-type: decimal">
<li>What’s the mean time to fail (<span class="math inline">\(m\)</span>) for the period between 8 months
to 1 year?</li>
</ol>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="system-reliability.html#cb73-1" tabindex="-1"></a><span class="co"># Calculate the inverse of lambda!</span></span>
<span id="cb73-2"><a href="system-reliability.html#cb73-2" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">/</span> lambda</span>
<span id="cb73-3"><a href="system-reliability.html#cb73-3" tabindex="-1"></a><span class="co"># check it!</span></span>
<span id="cb73-4"><a href="system-reliability.html#cb73-4" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>## [1] 39.00237</code></pre>
<p><code>39</code> days per package. In other words, during this period
post-expiration, this data suggests 1 package will go bad every <code>39</code>
days.</p>
<p><br></p>
</details>
<hr />
<p><br> <br> <br></p>
</div>
<div id="system-reliability-1" class="section level2 hasAnchor" number="1.8">
<h2><span class="header-section-number">1.8</span> System Reliability<a href="system-reliability.html#system-reliability-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Reliability rates become <em>extremely</em> useful when we look at an entire
<em>system</em>! This is where system reliability analysis can really improve
the lives of ordinary people, decision-makers, and day-to-day users,
because we can give <em>them</em> the knowledge they need to make decisions.</p>
<p><em>So what knowledge do users usually need?</em> How likely is the system <em>as a whole</em> to survive (or fail) over time?</p>
<div id="series-systems" class="section level3 hasAnchor" number="1.8.1">
<h3><span class="header-section-number">1.8.1</span> Series Systems<a href="system-reliability.html#series-systems" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure">
<img src="https://cdn.pixabay.com/photo/2015/10/30/12/11/mikado-1013878_960_720.jpg" alt="Dominos: A Series System" width="50%" />
<p class="caption">
(#fig:fig_series)Dominos: A Series System
</p>
</div>
<p>In a <strong>series system</strong>, we have a set of <span class="math inline">\(n\)</span> components (sometimes
called <em>nodes</em> in a network), which get utilized <em>sequentially</em>. A
domino train, for example, is a series system. It only takes <em>1
component</em> to fail to stop the entire system (causing system failure).
The overall reliability of a series system is defined as the success of
<em>every individual component</em> (A <em>AND</em> B <em>AND</em> C). We write it using the
formula below.</p>
<p><span class="math display">\[ Series \ System \ Reliability = R_{S} = \prod^{n}_{i = 1}R_{i} = R_1 \times R_2 \times ... \times R_n \]</span>
We can also visualize it below, where each labelled node is a component.</p>
<div class="figure">
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-f6b4d532a92e43fe4c53" style="width:672px;height:75%;"></div>
<script type="application/json" data-for="htmlwidget-f6b4d532a92e43fe4c53">{"x":{"diagram":"graph LR\n sstart(( ))\n send(( ))\n subgraph Series System\n 1\n 2\n 3\n end\n 1---2\n 2---3\n sstart---1\n 3---send"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
(#fig:mermaid_series)Figure 6. Example Series System
</p>
</div>
</div>
<div id="parallel-systems" class="section level3 hasAnchor" number="1.8.2">
<h3><span class="header-section-number">1.8.2</span> Parallel Systems<a href="system-reliability.html#parallel-systems" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure">
<img src="https://cdn.pixabay.com/photo/2016/05/08/16/59/spoons-1379442_960_720.jpg" alt="Spoons: A Parallel System" width="50%" />
<p class="caption">
(#fig:fig_parallel)Spoons: A Parallel System
</p>
</div>
<p>In a <strong>parallel system</strong> (a.k.a. <em>redundant</em> system), we have a set of
<span class="math inline">\(n\)</span> components, but only <em>1</em> component needs to function in order for
the system to function. The overall reliability of a series system is
defined as the success of <em>any individual component</em> (A <em>OR</em> B <em>OR</em> [A
<em>AND</em> B]). A silverware drawer is an simple example of a parallel
system. You probably just need 1 spoon for yourself at any time, but you
have a stock of several spoons available in case you need them.</p>
<p>We write it using the formula below, where each component <span class="math inline">\(i\)</span> has a
reliability rate of <span class="math inline">\(R_{i}\)</span> and a failure rate of <span class="math inline">\(F_{i}\)</span>.</p>
<p><span class="math display">\[ Parallel \ System \ Reliability = R_{P} = 1 - \prod^{n}_{i = 1}(1 - R_{i}) = 1 - \prod^{n}_{i = 1}F_{i} = 1 - (F_1 \times F_2 \times ... \times F_n) \]</span></p>
<p>Or we can represent it visually, where each labelled node is a
component. (Unlabelled nodes are just junctions for relationships, so
they don’t get a probability. Some diagrams will not have these; you
need them in <code>mermaid</code>.)</p>
<div class="figure">
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-a8f09ce008f5a193b449" style="width:100%;height:75%;"></div>
<script type="application/json" data-for="htmlwidget-a8f09ce008f5a193b449">{"x":{"diagram":"graph LR\n ostart(( ))\n oend(( ))\n subgraph Parallel System\n pstart(( ))\n 1\n 2\n 3\n pend(( ))\n pstart---1\n pstart---2\n pstart---3\n 1---pend\n 2---pend\n 3---pend\n end\n ostart---pstart\n pend---oend"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
(#fig:mermaid_parallel)Figure 7. Example Parallel System
</p>
</div>
</div>
<div id="combined-systems" class="section level3 hasAnchor" number="1.8.3">
<h3><span class="header-section-number">1.8.3</span> Combined Systems<a href="system-reliability.html#combined-systems" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most systems actually involve combining the probabilities of several
subsystems.</p>
<p>When combining configurations, we calculate the probabilities of each
subsystem, then then calculate the overall probability of the final
system.</p>
<ol style="list-style-type: decimal">
<li><strong>Series System with Nested Parallel System:</strong></li>
</ol>
<div class="figure"><span style="display:block;" id="fig:nested1"></span>
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-ef44c981ea696333e35f" style="width:672px;height:75%;"></div>
<script type="application/json" data-for="htmlwidget-ef44c981ea696333e35f">{"x":{"diagram":"graph LR\n subgraph Series System\n 1[1<br>R=0.80]\n 5[5<br>R=0.95]\n subgraph Parallel System\n pstart(( ))\n 2[2<br>R=0.98]\n 3[3<br>R=0.99]\n 4[4<br>R=0.90]\n pend(( ))\n pstart---2\n pstart---3\n pstart---4\n 2---pend\n 3---pend\n 4---pend\n end\n 1---pstart\n pend---5\n end"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 1.3: Figure 8. Series System with Nested Parallel System
</p>
</div>
<p>In the Figure above, we calculate the reliability rate for the parallel system, then calculate the reliability rate for the whole series; the parallel system’s rate becomes just one probability in the overall series system: <span class="math inline">\(0.80 \times (1 - (1 - 0.98) \times (1 - 0.99) \times (1 - 0.90)) \times 0.95 \approx 0.76\)</span>.</p>
<p><br>
<br></p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Parallel System with Nested Series Systems (Right Diagram):</strong></li>
</ol>
<div class="figure"><span style="display:block;" id="fig:nestedb"></span>
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-68333eb48efa56bea7e8" style="width:672px;height:75%;"></div>
<script type="application/json" data-for="htmlwidget-68333eb48efa56bea7e8">{"x":{"diagram":"graph LR\n subgraph Parallel System\n pbstart(( ))\n pbend(( ))\n subgraph Series System A\n 6[6<br>R=0.80]\n 7[7<br>R=0.90]\n end\n subgraph Series System B\n 8[8<br>R=0.95]\n 9[9<br>R=0.99]\n end\n pbstart---6\n 6---7\n 7---pbend\n pbstart---8\n 8---9\n 9---pbend\n end"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 1.4: Figure 9. Parallel System with Nested Series Systems
</p>
</div>
<p>In the figure above, we calculate the reliability rate for each series system first, then calculate the reliability rate for the whole parallel system; each series’ rate becomes one probability in the overall parallel system. <span class="math inline">\(1 - ((1 - 0.80 \times 0.90) \times (1 - 0.95 \times 0.99)) \approx 0.98\)</span></p>
<p>The key is identifying exactly which system is nested in which system!</p>
<p><br>
<br>
<br>
<br></p>
</div>
<div id="example-business-reliability" class="section level3 hasAnchor" number="1.8.4">
<h3><span class="header-section-number">1.8.4</span> Example: Business Reliability<a href="system-reliability.html#example-business-reliability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Local businesses deal heavily with series system reliability, even if
they don’t regularly model it. You’ve been hired to analyze the system
reliability of our local coffee shop <em>Coffee Please!</em> Our coffee shop’s
ability to serve cold brew coffee relies on 5 components, each with its
own <strong>constant</strong> chance of failure.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Water</strong>: Access to clean tap water. (Water outages occur ~ 3 days
a year.)</p></li>
<li><p><strong>Coffee Grounds</strong>: Sufficient coffee grounds supply. (Ran out of
stock 5 days in the last year).</p></li>
<li><p><strong>Refrigerator</strong>: Refrigerate coffee for 12 hours. (1% fail in a
year.)</p></li>
<li><p><strong>Dishwasher</strong>: Run dishwasher on used cups (failed 2 times in last
60 days).</p></li>
<li><p><strong>Register</strong>: Use Cash Register to process transaction and give
change (Failed 5 times in the 3 months).</p></li>
</ol>
<p>We can represent this in a system diagram below.</p>
<div class="figure">
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-1f1363c211baed6591a2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1f1363c211baed6591a2">{"x":{"diagram":"graph LR\n subgraph Coffee Shop Series System\n a[Water]\n b[Coffee Grounds]\n c[Refrigerator]\n d[Dishwasher]\n e[Register]\n end\n a---b\n b---c\n c---d\n d---e"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
(#fig:coffee_series)Figure 10. Example Series System in a Coffeeshop
</p>
</div>
<p>We can extract the average daily failure rate <span class="math inline">\(lambda\)</span> for each of these
components.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="system-reliability.html#cb75-1" tabindex="-1"></a><span class="co"># Water outage occrred 3 days in last 365 days</span></span>
<span id="cb75-2"><a href="system-reliability.html#cb75-2" tabindex="-1"></a>lambda_water <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">/</span> <span class="dv">365</span></span>
<span id="cb75-3"><a href="system-reliability.html#cb75-3" tabindex="-1"></a><span class="co"># Ran out of stock 5 days in last 365 days</span></span>
<span id="cb75-4"><a href="system-reliability.html#cb75-4" tabindex="-1"></a>lambda_grounds <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">365</span></span>
<span id="cb75-5"><a href="system-reliability.html#cb75-5" tabindex="-1"></a><span class="co"># 1% of refrigerators fail within a 365 days</span></span>
<span id="cb75-6"><a href="system-reliability.html#cb75-6" tabindex="-1"></a>lambda_refrigerator <span class="ot">&lt;-</span> <span class="fl">0.01</span> <span class="sc">/</span> <span class="dv">365</span></span>
<span id="cb75-7"><a href="system-reliability.html#cb75-7" tabindex="-1"></a><span class="co"># Failed 2 times in last 60 days</span></span>
<span id="cb75-8"><a href="system-reliability.html#cb75-8" tabindex="-1"></a>lambda_dishwasher <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">60</span></span>
<span id="cb75-9"><a href="system-reliability.html#cb75-9" tabindex="-1"></a><span class="co"># Failed 5 times in last 90 days</span></span>
<span id="cb75-10"><a href="system-reliability.html#cb75-10" tabindex="-1"></a>lambda_cash <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">90</span></span></code></pre></div>
<p>Assuming a constant chance of failure, we can write ourselves a quick
failure function <code>f</code> and reliability function <code>r</code> for an exponential
distribution.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="system-reliability.html#cb76-1" tabindex="-1"></a><span class="co"># Write a reliability function</span></span>
<span id="cb76-2"><a href="system-reliability.html#cb76-2" tabindex="-1"></a>r <span class="ot">=</span> <span class="cf">function</span>(t, lambda){ <span class="fu">exp</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>t<span class="sc">*</span>lambda)  }</span></code></pre></div>
<p>And we can calculate the overall reliability of this coffeeshop’s series
system in 1 day by multiplying these reliability rates together.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="system-reliability.html#cb77-1" tabindex="-1"></a><span class="fu">r</span>(<span class="dv">1</span>, lambda_water) <span class="sc">*</span> <span class="fu">r</span>(<span class="dv">1</span>, lambda_grounds) <span class="sc">*</span> <span class="fu">r</span>(<span class="dv">1</span>, lambda_refrigerator) <span class="sc">*</span> </span>
<span id="cb77-2"><a href="system-reliability.html#cb77-2" tabindex="-1"></a>  <span class="fu">r</span>(<span class="dv">1</span>, lambda_dishwasher) <span class="sc">*</span> <span class="fu">r</span>(<span class="dv">1</span>, lambda_cash)</span></code></pre></div>
<pre><code>## [1] 0.8950872</code></pre>
<p>This means there’s an 89.5% chance of this system fully functioning on a
given day!</p>
<p><br>
<br>
<br></p>
</div>
</div>
<div id="renewal-rates-via-bayes-rule" class="section level2 hasAnchor" number="1.9">
<h2><span class="header-section-number">1.9</span> Renewal Rates via Bayes Rule<a href="system-reliability.html#renewal-rates-via-bayes-rule" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We would hope that failed parts often get replaced, so we might want to
adjust our functions accordingly.</p>
<p><strong>Renewal Rate</strong>: <span class="math inline">\(r(t)\)</span> reflects the mean number of failures per unit
at time <span class="math inline">\(t\)</span>.</p>
<p>Example:</p>
<p>Let’s say that…</p>
<p>For 10 units, we calculated how many days post production they lasted till failure (<code>failure</code>) as well as how many days post production till they were replaced (<code>replace</code>). Using this, we can calculate the lag-time, or the time taken for <code>renewal</code>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="system-reliability.html#cb79-1" tabindex="-1"></a>units <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb79-2"><a href="system-reliability.html#cb79-2" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,</span>
<span id="cb79-3"><a href="system-reliability.html#cb79-3" tabindex="-1"></a>  <span class="at">failure =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">200</span>, <span class="dv">250</span>, <span class="dv">300</span>, <span class="dv">350</span>, </span>
<span id="cb79-4"><a href="system-reliability.html#cb79-4" tabindex="-1"></a>        <span class="dv">375</span>, <span class="dv">525</span>, <span class="dv">525</span>, <span class="dv">525</span>, <span class="dv">525</span>,</span>
<span id="cb79-5"><a href="system-reliability.html#cb79-5" tabindex="-1"></a>        <span class="dv">600</span>, <span class="dv">650</span>, <span class="dv">650</span>, <span class="dv">675</span>, <span class="dv">725</span>),</span>
<span id="cb79-6"><a href="system-reliability.html#cb79-6" tabindex="-1"></a>  <span class="at">replace =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">250</span>, <span class="dv">350</span>, <span class="dv">440</span>, <span class="dv">550</span>, </span>
<span id="cb79-7"><a href="system-reliability.html#cb79-7" tabindex="-1"></a>              <span class="dv">390</span>, <span class="dv">600</span>, <span class="dv">625</span>, <span class="dv">660</span>, <span class="dv">605</span>, </span>
<span id="cb79-8"><a href="system-reliability.html#cb79-8" tabindex="-1"></a>              <span class="dv">700</span>, <span class="dv">700</span>, <span class="dv">700</span>, <span class="dv">725</span>, <span class="dv">750</span>),</span>
<span id="cb79-9"><a href="system-reliability.html#cb79-9" tabindex="-1"></a>  <span class="at">renewal =</span> replace <span class="sc">-</span> failure</span>
<span id="cb79-10"><a href="system-reliability.html#cb79-10" tabindex="-1"></a>)</span>
<span id="cb79-11"><a href="system-reliability.html#cb79-11" tabindex="-1"></a></span>
<span id="cb79-12"><a href="system-reliability.html#cb79-12" tabindex="-1"></a><span class="co"># Let&#39;s get the failure funciont...</span></span>
<span id="cb79-13"><a href="system-reliability.html#cb79-13" tabindex="-1"></a><span class="co"># by calculating the CDF of failure</span></span>
<span id="cb79-14"><a href="system-reliability.html#cb79-14" tabindex="-1"></a></span>
<span id="cb79-15"><a href="system-reliability.html#cb79-15" tabindex="-1"></a><span class="co"># first, we calculate the PDF of failure</span></span>
<span id="cb79-16"><a href="system-reliability.html#cb79-16" tabindex="-1"></a>f <span class="ot">&lt;-</span> units<span class="sc">$</span>failure <span class="sc">%&gt;%</span> <span class="fu">density</span>() <span class="sc">%&gt;%</span> <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb79-17"><a href="system-reliability.html#cb79-17" tabindex="-1"></a>  <span class="co"># Get CDF</span></span>
<span id="cb79-18"><a href="system-reliability.html#cb79-18" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">cumsum</span>(y) <span class="sc">/</span> <span class="fu">sum</span>(y)) <span class="sc">%&gt;%</span></span>
<span id="cb79-19"><a href="system-reliability.html#cb79-19" tabindex="-1"></a>  <span class="co"># turn into function</span></span>
<span id="cb79-20"><a href="system-reliability.html#cb79-20" tabindex="-1"></a>  <span class="fu">approxfun</span>()</span>
<span id="cb79-21"><a href="system-reliability.html#cb79-21" tabindex="-1"></a></span>
<span id="cb79-22"><a href="system-reliability.html#cb79-22" tabindex="-1"></a><span class="co"># Let&#39;s also calculate the CDF of replacement</span></span>
<span id="cb79-23"><a href="system-reliability.html#cb79-23" tabindex="-1"></a>fr <span class="ot">&lt;-</span> units<span class="sc">$</span>replace <span class="sc">%&gt;%</span> <span class="fu">density</span>() <span class="sc">%&gt;%</span> <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb79-24"><a href="system-reliability.html#cb79-24" tabindex="-1"></a>  <span class="co"># Get CDF </span></span>
<span id="cb79-25"><a href="system-reliability.html#cb79-25" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">cumsum</span>(y) <span class="sc">/</span> <span class="fu">sum</span>(y)) <span class="sc">%&gt;%</span></span>
<span id="cb79-26"><a href="system-reliability.html#cb79-26" tabindex="-1"></a>  <span class="co"># Get function</span></span>
<span id="cb79-27"><a href="system-reliability.html#cb79-27" tabindex="-1"></a>  <span class="fu">approxfun</span>()</span></code></pre></div>
<p>Above, we made the function <code>fr()</code>, which represents the cumulative probability of replacement, <em>unrelated to failure</em>. But what we really want to know is a conditional probability, specifically: how likely is a
unit to get replaced at time <span class="math inline">\(b\)</span>, given that it failed at time <span class="math inline">\(a\)</span>? Fortunately, we can use Bayes’ Rule to deduce this.</p>
<p>First, let’s make a function <code>f_fr()</code>, meaning the cumulative probability of <em>failure</em> given <em>replacement</em>. This should (probably) be the same probability of failure as usual, but we need to restart the clock after replacement, so we’ll set the time as <span class="math inline">\(time_{failure} - time_{replacement}\)</span>.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="system-reliability.html#cb80-1" tabindex="-1"></a><span class="co"># Probability of failure given replacement</span></span>
<span id="cb80-2"><a href="system-reliability.html#cb80-2" tabindex="-1"></a>f_fr <span class="ot">=</span> <span class="cf">function</span>(time, time_replacement){</span>
<span id="cb80-3"><a href="system-reliability.html#cb80-3" tabindex="-1"></a>  <span class="fu">f</span>(time <span class="sc">-</span> time_replacement)</span>
<span id="cb80-4"><a href="system-reliability.html#cb80-4" tabindex="-1"></a>}</span></code></pre></div>
<p>Next, we’ll use Bayes Rule to get the cumulative probability of
<em>replacement given failure</em>, estimated in a function <code>fr_f()</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="system-reliability.html#cb81-1" tabindex="-1"></a><span class="co"># Probability of replacement given failure</span></span>
<span id="cb81-2"><a href="system-reliability.html#cb81-2" tabindex="-1"></a>fr_f <span class="ot">=</span> <span class="cf">function</span>(time, time_replacement){</span>
<span id="cb81-3"><a href="system-reliability.html#cb81-3" tabindex="-1"></a>  <span class="co"># Estimate conditional probability of Failure given Replacement times Replacement</span></span>
<span id="cb81-4"><a href="system-reliability.html#cb81-4" tabindex="-1"></a>  top <span class="ot">&lt;-</span> <span class="fu">f_fr</span>(time, time_replacement) <span class="sc">*</span> <span class="fu">fr</span>(time_replacement)</span>
<span id="cb81-5"><a href="system-reliability.html#cb81-5" tabindex="-1"></a>  <span class="co"># Estimate total probability of Failure</span></span>
<span id="cb81-6"><a href="system-reliability.html#cb81-6" tabindex="-1"></a>  bottom <span class="ot">&lt;-</span> <span class="fu">f_fr</span>(time, time_replacement) <span class="sc">*</span> <span class="fu">fr</span>(time_replacement)  <span class="sc">+</span>  (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">f_fr</span>(time, time_replacement)) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">fr</span>(time_replacement))</span>
<span id="cb81-7"><a href="system-reliability.html#cb81-7" tabindex="-1"></a>  <span class="co"># Divide them, and voila!</span></span>
<span id="cb81-8"><a href="system-reliability.html#cb81-8" tabindex="-1"></a>  top<span class="sc">/</span>bottom</span>
<span id="cb81-9"><a href="system-reliability.html#cb81-9" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, what do these functions actually look like? Let’s simulate
failure and replacement over time, in a dataset of <code>fakeunits</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="system-reliability.html#cb82-1" tabindex="-1"></a>fakeunits <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb82-2"><a href="system-reliability.html#cb82-2" tabindex="-1"></a>  <span class="co"># As time increases from 0 to 1100,</span></span>
<span id="cb82-3"><a href="system-reliability.html#cb82-3" tabindex="-1"></a>  <span class="at">time =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1100</span>, <span class="at">by =</span> <span class="dv">1</span>),</span>
<span id="cb82-4"><a href="system-reliability.html#cb82-4" tabindex="-1"></a>  <span class="co"># Let&#39;s get the probability of failure at that time,</span></span>
<span id="cb82-5"><a href="system-reliability.html#cb82-5" tabindex="-1"></a>  <span class="at">prob_f =</span> time <span class="sc">%&gt;%</span> <span class="fu">f</span>(),</span>
<span id="cb82-6"><a href="system-reliability.html#cb82-6" tabindex="-1"></a>  <span class="co"># Let&#39;s get the probability of replacement at time t + 10 given failure at time t</span></span>
<span id="cb82-7"><a href="system-reliability.html#cb82-7" tabindex="-1"></a>  <span class="at">prob_fr_f_10 =</span> <span class="fu">fr_f</span>(<span class="at">time =</span> time, <span class="at">time_replacement =</span> time <span class="sc">+</span> <span class="dv">10</span>),</span>
<span id="cb82-8"><a href="system-reliability.html#cb82-8" tabindex="-1"></a>  <span class="co"># How about t + 50?</span></span>
<span id="cb82-9"><a href="system-reliability.html#cb82-9" tabindex="-1"></a>  <span class="at">prob_fr_f_50 =</span> <span class="fu">fr_f</span>(<span class="at">time =</span> time, <span class="at">time_replacement =</span> time <span class="sc">+</span> <span class="dv">50</span>)</span>
<span id="cb82-10"><a href="system-reliability.html#cb82-10" tabindex="-1"></a>  </span>
<span id="cb82-11"><a href="system-reliability.html#cb82-11" tabindex="-1"></a>)</span>
<span id="cb82-12"><a href="system-reliability.html#cb82-12" tabindex="-1"></a><span class="co"># Check it!</span></span>
<span id="cb82-13"><a href="system-reliability.html#cb82-13" tabindex="-1"></a>fakeunits <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##    time prob_f prob_fr_f_10 prob_fr_f_50
##   &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1     0 0.0341     0.000435     0.000484
## 2     1 0.0344     0.000441     0.000490
## 3     2 0.0347     0.000448     0.000496</code></pre>
<p>And let’s visualize it!</p>
<div class="figure">
<img src="04_workshop_files/figure-html/img_cumulative-1.png" alt="Figure 11. Renewal Rates" width="100%" />
<p class="caption">
(#fig:img_cumulative)Figure 11. Renewal Rates
</p>
</div>
<p>From this point on, the math for <span class="math inline">\(z(t)\)</span>, <span class="math inline">\(H(t)\)</span>, and <span class="math inline">\(AFR(t)\)</span> for renewal rates gets a little tricky, so we’ll save that for another day. But you’re well on your way to working with life distributions!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

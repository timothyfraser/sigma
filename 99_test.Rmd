# Appendix: test

```{r setup_test, include=FALSE}
## Global options
knitr::opts_chunk$set(cache = FALSE, message = FALSE, warning = FALSE)
library(knitr)
library(kableExtra)
library(magick)
library(dplyr)
library(ggplot2)

## Configure reticulate to use existing Python
library(reticulate)

# Use your specific Python installation
python_path <- "C:/Python312/python.exe"
if (file.exists(python_path)) {
  use_python(python_path, required = FALSE)
  cat("Using Python at:", python_path, "\n")
} else {
  # Fallback to system Python
  system_python <- Sys.which("python")
  if (system_python != "") {
    use_python(system_python, required = FALSE)
    cat("Using system Python at:", system_python, "\n")
  } else {
    cat("Warning: No Python installation found\n")
  }
}

# Disable automatic environment creation and downloads
Sys.unsetenv("RETICULATE_PYTHON_ENV")
Sys.unsetenv("RETICULATE_PYTHON") 
Sys.unsetenv("RETICULATE_AUTOCONFIGURE")
Sys.unsetenv("RETICULATE_PYTHON_FALLBACK")

# Set the Python path explicitly
Sys.setenv(RETICULATE_PYTHON = python_path)

# Prevent reticulate from downloading Python
options(reticulate.conda_binary = NULL)
```

## Getting Started {-}

This is just a test document, placed at the end of the book.
```{r, message = FALSE, warning = FALSE}
library(dplyr)
```


### Version 1 {.unnumbered}

::: {.tabset}

#### R
```{r}
# R code
mtcars$hp %>% mean()
```

#### Python

```{python}
# Python code
import pandas as pd
data = pd.DataFrame({'hello': [1,2,3]})
print(data.hello.mean())
```

:::

### Version 2 {-}

<div>
  <button onclick="toggleCode('r-code')" class="button">R</button>
  <button onclick="toggleCode('python-code')" class="button button-python">Python</button>
</div>


<div id="r-code" style="display: block;">
```{r}
# R code
mtcars$hp %>% mean()
```
</div> 
<div id="python-code" style="display: none;"> 
```{python}
# Python code
import pandas as pd
data = pd.DataFrame({'hello': [1,2,3]})
print(data.hello.mean())
```
</div> 
<script> function toggleCode(codeType) { document.getElementById('r-code').style.display = 'none'; document.getElementById('python-code').style.display = 'none'; document.getElementById(codeType).style.display = 'block'; } </script>


Did it work?

